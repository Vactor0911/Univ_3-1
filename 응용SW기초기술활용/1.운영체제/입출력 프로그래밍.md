- CPU와 I/O장치 간의 처리 속도 차이가 문제됨
- 입출력은 CPU와 비동기적으로 수행
- I/O장치와 CPU 간의 상호 작용에는 입출력 프로그래밍이 필요

#### BIOS(basic input/output system)
- 부트 프로세스를 실행시키는 명령어들을 포함하고 있음
- **펌웨어** : 컴퓨터 칩에 저장된 부트 프로세스를 실행시키는 명령어의 집합
- 정보는 ROM에 저장

#### 부트 진행 과정
1. 컴퓨터 가동을 위해 파워 버튼을 누르면 부트 로더가 초기화 됨
2. POST(Power-On Self-Test) 수행 시작
3. 다른 BIOS들이 가동을 위해 초기화 됨
4. 유저는 필요에 따라 BIOS 접근을 위한 비밀키 입력을 요구 받음
5. 간단한 메모리 테스트가 수행되고 여러 파라미터들이 세팅됨
6. 플러그 앤 플레이 디바이스들이 초기화 됨
7. DMA(Direct Memory Access) 채널을 위한 자원들과 IRQ(Interrupt Request)가 할당됨
8. 부트 디바이스들이 정해지고 초기화 됨
9. OS가 초기화 됨

#### POST (Power-On Self-Test)
- 컴퓨터에 전원이 공급되었을 때, 키보드, 램, 디스크 드라이브 그리고 기타 하드웨어 등이 바르게 동작하는지 확인하기 위해, 컴퓨터 BIOS가 동작시키는 일련의 진단 시험 과정

#### 버퍼링

^6cc92c

- 중앙처리장치에 비해 입출력장치의 매우 느린 속도를 보완하는 한 가지 방법
	[[버퍼]]

**버퍼링의 예**
![[pg.33 그림 1-8 버퍼를 이용한 출력의 예.png]]
1. CPU는 출력할 데이터를 버퍼에 채운다.
2. 버퍼가 다 채워지면 CPU는 채널에게 출력을 지시하고, 자신의 일을 계속한다.
3. 채널은 출력을 수행함으로써 버퍼를 비운다.
4. 출력을 완료함으로써 버퍼를 다 비우면 CPU에게 알린다.

**이중 버퍼링의 예**
![[pg.34 그림 1-9 이중 버퍼링의 예.png]]
1. CPU가 버퍼A를 채운다.
2. 다 채우면 채널에게 버퍼A의 출력을 지시한다.
3. 버퍼A에 대한 출력과는 무관하게 버퍼B를 채운다.
4. 채널은 버퍼A를 비운다.
5. 채널은 버퍼A를 다 비웠음을 CPU에게 알린다.
6. CPU는 다시 버퍼A를 채우고 채널은 버퍼B를 비운다(여기서 ①과 ⑥, ③과 ④는 동시에 발생할 수 있다).

#### 스풀링(SPOOLing) #중요
- 디스크를 매우 큰 버퍼처럼 사용하는 것
![[pg.36 그림 1-10 스풀링.png]]

#### 채널
- I/O장치와 CPU 사이에 존재하는 입출력 전담 처리기
- CPU의 속도와 I/O장치의 속도는 차이가 있기 때문에 I/O장치와 CPU를 직접 연결하는 것은 비효율적

1. **선택 채널**
   - 한 번에 단 하나의 입출력 장치만을 선택적으로 지원
   - 디스크나 CD-ROM 등의 입출력을 제어
2. **멀티플렉서 채널**
   - 비교적 전송 속도가 느린 입출력 장치를 제어하기 위한 채널
   - 다수의 저속도 입출력 장치가 채널의 단일한 데이터 경로를 공유하면서 데이터를 전송

 ![[pg.37 그림 1-11 입출력 채널을 갖는 컴퓨터 시스템.png]]

**다양한 형태의 채널 연결 구조**
![[pg.38 그림 1-12 다양한 형태의 채널 연결 구조.png]]

#### 인터럽트
시스템에 예기치 않은 상황이 발생하였을 때, 그것을 운영체제에 알리기 위한 메커니즘

1. **종류**
   - **입출력 인터럽트** : 해당 입출력 하드웨어가 주어진 입출력 동작을 완료하였거나 또는 입출력의 오류 등이 발생하였을 때 발생
   - **외부 인터럽트** : 시스템 타이머에서 일정한 시간이 만료된 경우나 오퍼레이터가 콘솔 상의 인터럽트 키를 입력한 경우, 또는 다중 처리 시스템에서 다른 처리기로부터 신호가 온 경우 등에 발생
   - **SVC(SuperVisor Call) 인터럽트** : 사용자 프로그램이 수행되는 과정에서 입출력 수행, 기억장치의 할당, 또는 오퍼레이터의 개입 요구 등을 위하여 실행 중의 프로그램이 SVC 명령을 수행하는 경우에 발생
   - **기계 검사(machine check) 인터럽트** : 컴퓨터 자체 내의 기계적인 장애나 오류로 인해 발생
   - **프로그램 에러(program error) 인터럽트** : 주로 프로그램의 실행 오류로 인해 발생
     - 수행 중인 프로그램에서 0으로 나누는 연산을 한 경우
     - 보호되어 있는 기억 장소에 대한 접근한 경우
     - 허용되지 않는 명령어를 수행한 경우
     - 스택의 오버플로우가 발생한 경우 등
   - **재시작 인터럽트** : 오퍼레이터가 콘솔 상의 재시작 키를 눌렀을 때 발생

2. **구조 및 처리**
   - **인터럽트 처리 과정** #중요 
     ![[pg.40 그림 1-13 인터럽트 처리 과정.png]]
    1. ① CPU가 실행하는 중 인터럽트가 발생. 이 경우 현 상태의 프로그램 카운터와 프로그램의 다음 수행에 도움이 되거나 필요한 제반 정보를 **<u>주기억장치의 일정한 지역</u>**[^1]에 보관
    2. ② 해당 인터럽트에 대처하기 위한 **<u>인터럽트 처리 루틴으로 제어를 이동</u>**[^2]시켜 이 인터럽트를 해결
    3. ③ 인터럽트 처리 루틴의 수행을 완료하면, ④ 인터럽트가 발생했던 지점으로 되돌아와 보관해 놓은 정보를 이용, ⑤ 원래 수행 중이었던 프로그램을 처리

   - **인터럽트의 처리 과정 및 PSW 위치** #중요 
     ![[pg.41 그림 1-14 인터럽트의 처리 과정 및 PSW 위치.png]]

[^1]: L2 캐시
[^2]: 문맥 교환 (context switching)
   인터럽트 된 실행 중인 프로그램의 상태를 기억시켜 두고 제어권을 인터럽트 처리 루틴에게로 넘기는 작업